<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Unmix All FCS Files in a Directory — unmix.flowcode.folder • FlowCodeUnmix</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Unmix All FCS Files in a Directory — unmix.flowcode.folder"><meta name="description" content="This function unmixes all FCS files in a specified directory using the
provided spectra and method, and saves the unmixed FCS files to an output
directory of the user's choice."><meta property="og:description" content="This function unmixes all FCS files in a specified directory using the
provided spectra and method, and saves the unmixed FCS files to an output
directory of the user's choice."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FlowCodeUnmix</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/DrCytometer/FlowCodeUnmix/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Unmix All FCS Files in a Directory</h1>
      <small class="dont-index">Source: <a href="https://github.com/DrCytometer/FlowCodeUnmix/blob/HEAD/R/unmix_flowcode_folder.R" class="external-link"><code>R/unmix_flowcode_folder.R</code></a></small>
      <div class="d-none name"><code>unmix.flowcode.folder.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function unmixes all FCS files in a specified directory using the
provided spectra and method, and saves the unmixed FCS files to an output
directory of the user's choice.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">unmix.flowcode.folder</span><span class="op">(</span></span>
<span>  <span class="va">fcs.dir</span>,</span>
<span>  <span class="va">spectra</span>,</span>
<span>  <span class="va">asp</span>,</span>
<span>  <span class="va">flow.control</span>,</span>
<span>  <span class="va">af.spectra</span>,</span>
<span>  <span class="va">spectra.variants</span>,</span>
<span>  <span class="va">flowcode.spectra</span>,</span>
<span>  thresholds.file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  output.dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  file.suffix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include.imaging <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threads <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="va">parallel</span><span class="op">)</span> <span class="fl">0</span> <span class="kw">else</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fcs-dir">fcs.dir<a class="anchor" aria-label="anchor" href="#arg-fcs-dir"></a></dt>
<dd><p>Directory containing FCS files to be unmixed.</p></dd>


<dt id="arg-spectra">spectra<a class="anchor" aria-label="anchor" href="#arg-spectra"></a></dt>
<dd><p>Matrix containing spectra information.</p></dd>


<dt id="arg-asp">asp<a class="anchor" aria-label="anchor" href="#arg-asp"></a></dt>
<dd><p>The AutoSpectral parameter list.
Prepare using <code>get.autospectral.param</code></p></dd>


<dt id="arg-flow-control">flow.control<a class="anchor" aria-label="anchor" href="#arg-flow-control"></a></dt>
<dd><p>A list containing flow cytometry control parameters.</p></dd>


<dt id="arg-af-spectra">af.spectra<a class="anchor" aria-label="anchor" href="#arg-af-spectra"></a></dt>
<dd><p>Spectral signatures of autofluorescences, normalized
between 0 and 1, with fluorophores in rows and detectors in columns. Prepare
using <code>get.af.spectra</code>. Required for <code>FlowCodeUnmixe</code> unmixing.</p></dd>


<dt id="arg-spectra-variants">spectra.variants<a class="anchor" aria-label="anchor" href="#arg-spectra-variants"></a></dt>
<dd><p>Named list (names are fluorophores) carrying matrices
of spectral signature variations for each fluorophore. Prepare using
<code>get.spectral.variants</code>.</p></dd>


<dt id="arg-flowcode-spectra">flowcode.spectra<a class="anchor" aria-label="anchor" href="#arg-flowcode-spectra"></a></dt>
<dd><p>Structured output from <code><a href="get.flowcode.spectra.html">get.flowcode.spectra()</a></code>, which
details the combination-level spectral unmixing errors due to FRET-like
artefacts.</p></dd>


<dt id="arg-thresholds-file">thresholds.file<a class="anchor" aria-label="anchor" href="#arg-thresholds-file"></a></dt>
<dd><p>Optional, file name and path to the thresholds CSV file
produced using the threshold setting app. Thresholds are provided by default
as part of <code>flowcode.spectra</code>, but those will have been selected on the
FlowCode backbone sample. If the thresholds for positivity of any of the
fluorophores used to identify the FlowCodes differs in the fully stained
samples being unmixed here, provide a new set of thresholds from the
ThresholdApp. Run this on an unmixed sample (OLS from the instrument is fine),
and refer to the new thresholds file here. Default is <code>NULL</code>, which will be
ignored.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Optional numeric vector of weights: one per fluorescent
detector. Default is <code>NULL</code>, in which case weighting will be done by
channel means.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Numeric, controls the number of variants tested for each fluorophore,
autofluorescence and FRET spectrum. Default is <code>10</code>. Values up to <code>10</code> provide
additional benefit in unmixing quality, <code>1</code> will be fastest.</p></dd>


<dt id="arg-output-dir">output.dir<a class="anchor" aria-label="anchor" href="#arg-output-dir"></a></dt>
<dd><p>Directory to save the unmixed FCS files
(default is <code>asp$unmixed.fcs.dir</code>).</p></dd>


<dt id="arg-file-suffix">file.suffix<a class="anchor" aria-label="anchor" href="#arg-file-suffix"></a></dt>
<dd><p>A character string to append to the output file name.
Default is <code>NULL</code></p></dd>


<dt id="arg-include-imaging">include.imaging<a class="anchor" aria-label="anchor" href="#arg-include-imaging"></a></dt>
<dd><p>Logical indicating whether to include imaging data in
the written FCS file: relevant for S8 and A8. Default is <code>FALSE</code></p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical, default is <code>TRUE</code>, which enables parallel processing
for per-cell unmixing methods.</p></dd>


<dt id="arg-threads">threads<a class="anchor" aria-label="anchor" href="#arg-threads"></a></dt>
<dd><p>Numeric, defaults to all available cores if <code>parallel=TRUE</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical, controls messaging. Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>None. Saves the unmixed FCS files to the specified output directory.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Oliver Burton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

